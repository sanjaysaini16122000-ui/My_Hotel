{% extends 'base.html' %}
{% load static %}
{% block content %}
<link rel="stylesheet" href="{% static 'css/dashboard.css' %}">
<h1 class="page-title">Admin Dashboard ðŸ“Š</h1>

<div class="dashboard-grid">

    <div class="card">
        <h3>Total Rooms</h3>
        <p>{{ total_rooms }}</p>
    </div>

    <div class="card">
        <h3>Total Bookings</h3>
        <p>{{ total_bookings }}</p>
    </div>

    <div class="card">
        <h3>Total Payments</h3>
        <p>{{ total_payments }}</p>
    </div>

    <div class="card">
        <h3>Total Revenue</h3>
        <p>â‚¹{{ total_revenue }}</p>
    </div>

</div>

<hr>

<h2>Recent Bookings</h2>
<table class="table">
    <tr>
        <th>User</th>
        <th>Room</th>
        <th>Date</th>
    </tr>
    {% for b in recent_bookings %}
    <tr>
        <td>{{ b.user.username }}</td>
        <td>{{ b.room }}</td>
        <td>{{ b.created_at }}</td>
    </tr>
    {% endfor %}
</table>

<h2>Recent Payments</h2>
<table class="table">
    <tr>
        <th>Booking</th>
        <th>Amount</th>
        <th>Status</th>
    </tr>
    {% for p in recent_payments %}
    <tr>
        <td>#{{ p.booking.id }}</td>
        <td>â‚¹{{ p.amount }}</td>
        <td>{{ p.status }}</td>
    </tr>
    {% endfor %}
</table>

{% endblock %}
