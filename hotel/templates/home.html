{% extends 'base.html' %}

{% block content %}
{% load static %}

<div class="hero">
    <div class="hero-overlay">
        <h1>Find Your Perfect Stay</h1>
        <p>Luxury rooms. Best prices. Trusted stays.</p>
    </div>
</div>

<div style="max-width:1100px; margin:40px auto;">

    <h1 class="page-title">üè® Available Rooms</h1>

    <div style="display:grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap:25px;">

        {% for room in rooms %}
        <div style="background:white; border-radius:10px; box-shadow:0 4px 12px rgba(0,0,0,0.08); overflow:hidden;">

            {% if room.image %}
                <img src="{{ room.image.url }}" style="width:100%; height:200px; object-fit:cover;">
            {% endif %}

            <div style="padding:15px;">
                <h2 style="margin:0 0 8px 0;">
                    <a href="/rooms/{{ room.id }}/" style="text-decoration:none; color:#2c3e50;">
                        {{ room.get_room_type_display }} Room
                    </a>
                </h2>

                <p style="color:#666; margin:5px 0;">
                    ‚Çπ{{ room.price_per_night }} / night
                </p>

                <p style="margin:6px 0;">
                    <strong>Rating:</strong>
                    {% if room.average_rating > 0 %}
                        <span style="color:orange;">
                            {{ room.average_rating|floatformat:1 }} ‚≠ê / 5
                        </span>
                    {% else %}
                        <span style="color:#999;">No reviews yet</span>
                    {% endif %}
                </p>

                <p style="color:green; font-weight:bold;">
                    {{ room.total_rooms }} Rooms Available
                </p>

                <div style="margin-top:10px;">
                    <a href="/bookings/book/?room_id={{ room.id }}" class="btn-primary">
                        Book Now
                    </a>
                </div>
            </div>

        </div>
        {% empty %}
            <p>No rooms available.</p>
        {% endfor %}

    </div>
</div>
{% endblock %}
